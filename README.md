# **Welcome to Immigrants project!**

Добро пожаловать в проект "Immigrants"! Идея "Immigrants" - помочь людям эмигрировавшим из своих стран. Наша цель - создать комьюнити иммигрантов, чтобы помочь им освоиться на новом месте, мы хотим дать возможность организовывать мероприятия, помогать друг другу, искать знакомых, общаться, предостовлять финансовую помощь.
Далее будет подробно описано как работать с проектом.

# **Docs**

### **Scripts**

#### `npm run start`
Для запуска проекта в режиме разработки с включеным hot-reload - запустите:
`npm run start`

Страница автоматически откроется по адресу [http://localhost:4200](http://localhost:4200)

При включеном hot-reload'е сраница будет обновляться автоматически, сразу как вы примените изменения в файле.
Вы также можете просматривать ошибки linter'а в консоли.

#### `npm run build:dev`
Для сборки проекта в режиме разработки - запустите:
`npm run build:dev`

После сборки в корне проекта появится папка `dist`, в которой будут лежать измененные bundle'ы
В отличии от production сборки, при dev сборке файлы не минифицируются, но их названия меняются на hash'и

#### `npm run build:prod`
Для сборки проекта в production режиме - запустите:
`npm run build:prod`

После сборки в корне проекта появится папка `dist`, в которой будут лежать измененные bundle'ы
При production сборке все файлы .js, .jsx, .css, .json, .png ... минифицируются для уменьшения размеров файлов

#### `npm run clean`
Для очистки проекта - запустите:
`npm run clean`

Этот script удаляет папку `dist` из корня проекта.

#### **Semver Scripts**
Для исполнения этих команд, вы сначала должны выполнить коммит, используя `git add .` `git commit -m ""`. Подробнее читайте в [этом](#versioning) блоке.

#### `npm run release:major`
Для обновления "Major" версии - запустите:
`npm run release:major`

Эта команда подготовит коммит, обновит версию приложения и сгенерирует `CHANGELOG.md` файл. Для пуша изменений используйте команду [`push-dev`](#npm-run-push-dev)

#### `npm run release:minor`
Для обновления "Minor" версии - запустите:
`npm run release:minor`

Эта команда подготовит коммит, обновит версию приложения и сгенерирует `CHANGELOG.md` файл. Для пуша изменений используйте команду [`push-dev`](#npm-run-push-dev)

#### `npm run release:patch`
Для обновления "Patch" версии - запустите:
`npm run release:patch`

Эта команда подготовит коммит, обновит версию приложения и сгенерирует `CHANGELOG.md` файл. Для пуша изменений используйте команду [`push-dev`](#npm-run-push-dev)

#### `npm run release`
Для обновления версии приложения - запустите:
`npm run release`

Эта команда обновит версию и создаст `CHANGELOG.md` файл, в зависимости от типа коммита. При типе "feat" - обновит "Minor" версию, а при всех остальных - "Patch" версию. Используйте эту команду в случае использование типа коммита, отличного от "fix" и "feat"

Вы также можете использовать флаги:

* `-- --release-as <major or minor or patch>` - обновит указанную версию. Пример:

		npm run release -- --release-as minor

		// 1.1.1 --> 1.2.0

* `-- --prerelease <name>` - обновит Pre-release версию. Пример:

		npm run release -- --prerelease beta

		// 1.1.1 --> 1.1.1-beta.0

#### `npm run push-dev`
Для пуша коммита в github репозиторий - запустите:
`npm run push-dev`

Эта команда зальет изменения в "develop" ветку в git.

### Code style guide

В этом проекте действуют правила стиля, в котором должен быть написан код. Так это совместный проект - стиль каждого программиста может отличаться, что негативно сказывается на проекте.

Основные правила:
* Не используйте точку с запятой (";") в конце выражений. Да, в очень редких случаях это может вызвать ошибку, но 	без ";" код выглядит красивее + остальные настройки linter'а должны исключить возможность допустить ошибки, 			которые потенциально могут вызвать ошибку в связи с отсутствием ";"

	Пример хорошего кода &#128077;

		const variable = 'test'

		function repeat(num) {
			return variable * num
		}

		console.log(repeat(5))

	Пример плохого кода &#128078;

			const variable = 'test';

			function repeat(num) {
				return variable * num;
			};

			console.log(repeat(5));

* Используйте camelCase (Верблюжий регистр) для наименования переменных, функций и т.д. Напомню, что camelCase подразумевает, что вы начинаете писать в нижнем регистре, но каждое новое слово начинаете с заглавной буквы. Пример: `testNameOfCamelCaseVariable`, `someFunction`, `variable`. Однако есть ряд исключений: названия классов и компонентов мы начинаем с заглавной буквы, пример: `TestClass`, `ModalComponent`

* Используйте только строгие сравнения: `===` и  `!==`.

		// bad
		if (a == b || b != c) {...}

		// good
		if (a === b || b !== c) {...}

* Используйте одинарные кавычки ('') везде, кроме html тегов и jsx, внутри тега используйте двойные кавычки ("")

		// bad
		const arr = ["test", "test", "test]
		<div class='test'></div>

		// good
		const arr = ['test', 'test', 'test']
		<div class="test"></div>

* Используйте только табуляцию для отступов, не используйте пробелы. Размер интервала табуляции: 2

* Всегда добавляйте пустую строку в конце файла

* _Полный список правил вы можете посмотреть в файле `.eslintrc`_

> Не соблюдение этих правил может привести к ошибкам, если вы получили ошибку от linter'а - скопируйте ее название и найдите это правило на [сайте]('https://eslint.org/docs/rules/'), прочитайте за что оно отвечает, после чего - исправьте.

### Versioning

Версионирование - важная часть любого проекта, с его помощью можно легко понять какие изменения произошли в проекте и быстро обновиться на новую версию или откатитья на старую, но стабильную.

В этом проекте мы будем использовать "семантическое версионирование", также известное как "SemVer". Что же оно из себя представляет?

		1.2.3-beta.1
		| | |  |________ Pre-release
		| | |___________ Patch
		| |_____________ Minor
		|_______________ Major

Семантическая версия состоит из четырех чатсей: **Major**, **Minor**, **Patch** и **Pre-release**.
Каждая из них обозначает определенный тип изменений, которые были введены в новой версии. Однако обязательны только первые три части: "Major", "Minor" и "Patch". "Pre-release" мы будем использовать только когда проект будет почти готов к выпуску первой версии.

* **Major** - увеличивается, когда проводятся большие изменения. В данном случае, так как мы говорим про сайт, когда происходят такие изменения, которые могут нарушить работу старых версий или добавляют новую бизнес логику. Например: вы добавили на сайт боковое меню, с помощью которого теперь можно написать пост, но в старой версии приложения такой фуекции не было. Тут очень сложно объяснить, когда нужно повышать "Major" версию, так это легче объяснить на примере api - "Major" версия повышается, когда api меняется обратно несовместимым образом, например вы добавили функцию активации аккаунта в новой версии. Но, все таки, мы здесь не api рассматриваем, поэтому я буду делать пометки на задачах, которые будут менять "Major" версию.

* **Minor** - увеличивается, когда проводятся незначительные изменения, добавляется новая функциональность, при этом они не нарушают обратную совместимость. Пример: вы добавили на сайт кнопку для обратной связи - это не нарушило работу приложения для старых версий, а просто добавило новую функцию. После повышения "Major" версии необходимо сбрасывать "Minor" версию, то есть после версии 3.23 идет версия 4.0, а не 4.24.

* **Patch** - увеличивается при исправлении багов, рефакторинге и прочих изменений, которые ничего не ломают, но и не добавляют новых функций. Пример: вы исправили ошибку, когда при нажатии на кнопку "Зарегистрироваться" не открывалась страница регистрации. Или вы изменили цвет кнопки, модального окна. При увеличении "Major" или "Minor" необходимо сбрасывать "Patch" в 0.

* **Pre-release** - необязательный, разделенный точками список, отделенный от трех номеров версии знаком минус. Например: "1.1.0-beta.2". Используется вместо тегов, чтобы “помечать” определенные вехи в разработке. Обычно это “alpha”, “beta”, “release candidate” (“rc”). Где “alpha” - младшая версия, а “release candidate” - старшая, после нее версию отдают пользователю, то есть вносят изменения непосредственно на сайт.

Но как же обновить версию, когда внес изменения?

Вообще, версия проекта находится в поле "version" в `package.json` файле. Ее можно изменять вручную, но при таком подходе будет сложно вести `CHANGELOG.md`, так как придется вручную делать это. Также при таком подходе легко забыть, что нужно обновить версию, что может вызвать проблемы. Поэтому в этом проекте мы будем использовать библиотеку "standard-version" для управления версиями.

Когда вы закончили изменения, вам необходимо внести их в git и залить в этот github репозиторий. Обычно это делается так:

		git add .	// добавляет все файлы в область слежения git

		git commit -m "some commit"  // делает коммит

		git push -u origin develop  // вносит изменения в develop ветку в github репозитории.

Но, так как мы используем "standard-version" библиотеку, вам необходимо будет использовать скрипты, изучить которые вы можете [здесь](#semver-scripts), делается это так:

		git add .

		git commit -m "some commit"

		npm run release:minor // увеличивает minor версию

		npm run push-dev // публикует коммит в github репозитории


Отлично! Теперь все изменения залиты в git, версия увеличена, а в `CHANGELOG.md` сгенерировалась запись об этой версии. Однако это не все, что вам необходимо знать о версионировании, чтобы другие разработчики и вы могли легко разбираться в коммитах, необходимо придерживаться соглашения о названии коммитов. Об этом в следующем блоке.

#### Conventional Commits

Правильно называть коммиты - очень важно. Это позволяет сразу понять какие изменения были внесены и на что они повлияли. Существует соглашение о коммитах, которого вы должны придерживаться.

Сообщения коммитов должны быть следующей структуры:

		<type>: <description>

		[optional body]


Вот список типов коммитов, которые вы должны использовать в начале  названия коммита:

* **feat** - должен использоваться при добавлении нового функционала. (feat - от англ. "feature" - фича)

* **fix** - должен использоваться при исправлении багов или небольших изменений, например: изменить цвет кнопки. Сюда относятся все "Patch" изменения.

* **docs** - должен использоваться при изменении документации.

* **style** - должен использоваться при изменениях не влияющих на код (пробелы, табуляция, форматирование, etc).

* **refactor** - должен использоваться при изменениях не связанных с исправлением багов и добавлением фич. Пример:

			// was
			<Component
				onClick={function(arg1, arg2) {
					console.log(arg1 +  arg2)
				}}
			>
			</Component>
			// became
			<Component
				onClick={(arg1, arg2) => console.log(arg1 + arg2)}
			>
			</Component>


* **perf** - должен использоваться при изменениях связанных с производительностью

* **chore** - изменения связанные с обновлением библиотек, поддержкой кода, etc.

Чтобы задать описание коммиту используется флаг -m:

		git commit -m "type: description" -m "body"

Первый флаг задает короткое описание коммита, а второй флаг задает полное описание коммита.


Пример хорошего коммита &#128077;

		git commit -m "feat: Add testFunction to index.js file" -m "This function take two arguments, adds them and outputs the sum"

Пример плохого коммита &#128078;

		git commit -m "something happens"
